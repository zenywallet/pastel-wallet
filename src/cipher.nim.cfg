@if emscripten:
  cc = clang
  clang.exe = "emcc"
  clang.linkerexe = "emcc"
  clang.options.linker = ""
  cpu = "i386"
  warning[GcMem]= off
  passC = "-O3 -fomit-frame-pointer"
  passL = "-O3 -fomit-frame-pointer -s ALLOW_MEMORY_GROWTH=1 -s WASM=1 -s MODULARIZE=1 -s EXPORT_NAME='\"Cipher\"' -s EXPORTED_FUNCTIONS='[\"_malloc\", \"_free\", \"_cipher_init\", \"_cipher_enc\", \"_cipher_dec\", \"_ed25519_create_keypair\", \"_ed25519_sign\", \"_ed25519_verify\", \"_ed25519_key_exchange\", \"_ed25519_get_publickey\", \"_ed25519_add_scalar\", \"_yespower_hash\"]' -s EXTRA_EXPORTED_RUNTIME_METHODS='[\"ccall\", \"cwrap\"]'"
@end
