@if emscripten:
  cc = clang
  clang.exe = "emcc"
  clang.linkerexe = "emcc"
  clang.options.linker = ""
  cpu = "i386"
  warning[GcMem]= off
  passC = "-O3 -fomit-frame-pointer"
  passL = "-O3 -fomit-frame-pointer"
  passL = "-s ALLOW_MEMORY_GROWTH=1"
  passL = "-s WASM=1"
  passL = "-s MODULARIZE=1"
  passL = "-s EXPORT_NAME='\"Cipher\"'"
  passL = "-s EXPORTED_FUNCTIONS='["
  passL = "\"_malloc\","
  passL = "\"_free\","
  passL = "\"_cipher_init\","
  passL = "\"_cipher_enc\","
  passL = "\"_cipher_dec\","
  passL = "\"_serpent_set_key\","
  passL = "\"_serpent_encrypt\","
  passL = "\"_serpent_decrypt\","
  passL = "\"_ed25519_create_keypair\","
  passL = "\"_ed25519_sign\","
  passL = "\"_ed25519_verify\","
  passL = "\"_ed25519_key_exchange\","
  passL = "\"_ed25519_get_publickey\","
  passL = "\"_ed25519_add_scalar\","
  passL = "\"_yespower_hash\","
  passL = "\"_yespower_n2r8\","
  passL = "\"_yespower_n4r16\","
  passL = "\"_yespower_n4r32\","
  passL = "\"_murmurhash\","
  passL = "\"_zbar_init\","
  passL = "\"_zbar_destroy\","
  passL = "\"_zbar_scan\"]'"
  passL = "-s EXPORTED_RUNTIME_METHODS='[\"ccall\", \"cwrap\", \"UTF8ToString\"]'"
@end
